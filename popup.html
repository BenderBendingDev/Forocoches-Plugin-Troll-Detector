<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FC Troll Detector - ConfiguraciÃ³n</title>
    <link rel="stylesheet" href="popup.css">
</head>
<body>
    <div class="popup-container">
        <header class="popup-header">
            <h1>ğŸ” FC Troll Detector</h1>
            <p class="subtitle">ConfiguraciÃ³n</p>
        </header>

        <main class="popup-content">
            <!-- SecciÃ³n de Umbrales -->
            <section class="config-section">
                <h2>ğŸ“Š Umbrales de Riesgo</h2>
                
                <div class="config-item">
                    <label for="umbral-alto">
                        ğŸ”´ Riesgo Alto (%)
                        <span class="value-display" id="umbral-alto-value">70</span>
                    </label>
                    <input type="range" id="umbral-alto" min="50" max="95" value="70">
                </div>

                <div class="config-item">
                    <label for="umbral-medio">
                        ğŸŸ¡ Riesgo Medio (%)
                        <span class="value-display" id="umbral-medio-value">40</span>
                    </label>
                    <input type="range" id="umbral-medio" min="20" max="60" value="40">
                </div>
            </section>

            <!-- SecciÃ³n de Pesos -->
            <section class="config-section">
                <h2>âš–ï¸ Pesos del Algoritmo</h2>
                
                <div class="config-item">
                    <label for="peso-antiguedad">
                        ğŸ“… AntigÃ¼edad de cuenta
                        <span class="value-display" id="peso-antiguedad-value">50%</span>
                    </label>
                    <input type="range" id="peso-antiguedad" min="0" max="100" value="50">
                </div>

                <div class="config-item">
                    <label for="peso-actividad">
                        ğŸ“ˆ Actividad (msgs/dÃ­a)
                        <span class="value-display" id="peso-actividad-value">50%</span>
                    </label>
                    <input type="range" id="peso-actividad" min="0" max="100" value="50">
                </div>

                <p class="hint">Los pesos se normalizan automÃ¡ticamente al 100%</p>
            </section>

            <!-- SecciÃ³n de Usuarios Fiables -->
            <section class="config-section">
                <h2>âœ… Usuarios Fiables</h2>
                <p class="hint">Estos usuarios siempre aparecerÃ¡n como fiables (azul)</p>
                
                <div class="add-user-form">
                    <input type="text" id="nuevo-usuario" placeholder="Nombre de usuario...">
                    <button id="btn-agregar-usuario" class="btn-add">â•</button>
                </div>

                <ul id="lista-usuarios-fiables" class="user-list">
                    <!-- Se llena dinÃ¡micamente -->
                </ul>

                <p class="empty-message" id="sin-usuarios">No hay usuarios en la lista</p>
            </section>

            <!-- SecciÃ³n de Usuarios Blacklist -->
            <section class="config-section blacklist-section">
                <h2>ğŸš« Trolls Marcados</h2>
                <p class="hint">Estos usuarios aparecerÃ¡n resaltados en rojo</p>
                
                <div class="add-user-form">
                    <input type="text" id="nuevo-troll" placeholder="Nombre de usuario...">
                    <button id="btn-agregar-troll" class="btn-add btn-add-troll">â•</button>
                </div>

                <ul id="lista-usuarios-blacklist" class="user-list blacklist">
                    <!-- Se llena dinÃ¡micamente -->
                </ul>

                <p class="empty-message" id="sin-trolls">No hay usuarios en la lista</p>
            </section>

            <!-- SecciÃ³n de Opciones -->
            <section class="config-section">
                <h2>âš™ï¸ Opciones</h2>
                
                <div class="config-item checkbox-item">
                    <label>
                        <input type="checkbox" id="mostrar-tooltip">
                        Mostrar tooltip detallado
                    </label>
                </div>

                <div class="config-item checkbox-item">
                    <label>
                        <input type="checkbox" id="analizar-auto">
                        Analizar automÃ¡ticamente al cargar
                    </label>
                </div>
            </section>

            <!-- SecciÃ³n de Importar/Exportar -->
            <section class="config-section import-export-section">
                <h2>ğŸ“¦ Importar / Exportar</h2>
                <p class="hint">Comparte tu configuraciÃ³n entre dispositivos o con otros usuarios</p>
                
                <div class="import-export-buttons">
                    <button id="btn-exportar" class="btn-export">
                        ğŸ“¤ Exportar JSON
                    </button>
                    <label class="btn-import">
                        ğŸ“¥ Importar JSON
                        <input type="file" id="input-importar" accept=".json" hidden>
                    </label>
                </div>
            </section>
        </main>

        <footer class="popup-footer">
            <button id="btn-reset" class="btn-secondary">ğŸ”„ Restaurar</button>
            <button id="btn-guardar" class="btn-primary">ğŸ’¾ Guardar</button>
        </footer>

        <div class="status-message" id="status-message"></div>
    </div>

    <script src="popup.js"></script>
</body>
</html>
